<!DOCTYPE html>
<html lang="en">

<head>
  <title>Local Storage Demo</title> <!-- TODO: Change this! -->
  <meta charset="utf-8">


  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Stylesheets -->
  <link type="text/css" rel="stylesheet" href="styles/admin-style.css">

  <!-- - - -  Fonts - - - -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=PT+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@100;300;400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- Scripts -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  
  <script src="script.js"></script>
  <script>
    // Prevent (in very rudimentary and non-secure way) non-logged in users from accessing this page
    if (localStorage.getItem('email') === null ||Â localStorage.getItem('firstName') === '') {
      console.log('Not logged in!')
      try {
        window.stop();
      } catch (e) {
        //IE stop loading content 
        document.execCommand('Stop');
      } 
      window.location.replace('index.html');
    }
  </script>
  <script>
    $(document).ready(function () {
      getConsoleLog();
    });
  </script>

</head>

<body>
  <div class="consolePrint">
    <h2>LocalStorage</h2>
    <hr>
    <table id="consoleTable" width="100%">
      <tbody>
        <tr>
          <th>Key</th>
          <th>Value</th>
        </tr>
      </tbody>
    </table>
    <pre id="results"></pre>
    <p><tt id="strResults" style="max-width: 100%;"></tt></p>
  </div>
  <main class="centered">
    <h1>WWW Applications: Local Storage Demo</h1>
    <div class="main">
      <h2 id="greeting">Hello stranger!</h2>

      <details id="hidable-form">
        <summary>Wrong first name? Reintroduce yourself!</summary>
        <form id="userInfFirstName">
          <label for="firstName">What is your first name?</label> <br>
          <input name="firstName" id="fName" type="text" size="30"> <br>

          <button type="submit">Submit</button>
        </form>
      </details>
      <details id="hidable-form">
        <summary>Wrong last name? Reintroduce yourself!</summary>
        <form id="userInfLastName">
          <label for="lastName">What is your last name?</label> <br>
          <input name="lastName" id="lName" type="text" size="30"> <br>

          <button type="submit">Submit</button>
        </form>
      </details>
      <details id="hidable-form">
        <summary>Wrong email address? Tell us your email!</summary>
        <form id="userInfNewEmail">
          <label for="newEmail">What is your new email?</label> <br>
          <input name="newEmail" id="newEmail" type="text" size="30"> <br>

          <button type="submit">Submit</button>
        </form>
      </details>
      <details id="hidable-form">
        <summary>Do you want to change your password? </summary>
        <form id="userInfNewPassword">
          <label for="newPassword">What is your new password?</label> <br>
          <input name="newPassword" id="newPass" type="text" size="30"> <br>

          <button type="submit">Submit</button>
        </form>
      </details>

      <button id="clear" style="padding: 15px 40px;">Clear local storage</button><br>
      <button id="showJsonFormat" style="padding: 15px 70px;">Convert to Json Format</button>
      <button id="showSerialiseFormat" style="padding: 15px 70px;">Convert to URL-encoded Notation</button>
    </div>

  </main>
</body>

</html>